---
title: Puzzle box Christmas gift
subtitle: A Christmas present with a twist - to get the gift, you'll have to hack the giftbox
category: Projects
header-img: content/2020/gift-box/header.jpg
---

Here's a gift box I built for this Christmas. A wooden box, locked with a combination lock. To get the code of the lock (and the gift inside),
one has to get the box open... somehow... without knowing the lock combination.


## Why do this

I wanted to make obtaining the gift just a bit challenging - this would make the reward more satisfying. Idea of a locked box w/ combination
lock fit well, as making a puzzle to disclose a password is doable enough. Oddly, I couldn't find a small lockable box from local nor
online stores, so I built one.

## The build

I'm no woodworker, and did this in the living room, with limited tooling available. The build is rough.
I discovered plenty of small tips how to make my next box cleaner, but that's for another time.



{% responsive_image path: content/2020/gift-box/1.jpg alt="" %}

{% responsive_image path: content/2020/gift-box/2.jpg alt="" %}

{% responsive_image path: content/2020/gift-box/3.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/4.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/5.jpg alt="" %}


(above) I started by cutting a length of 90cm x 2cm x 100cm pine board into ~15cm pieces, fitting the pieces together into a box, then sanding the edges.
Box lid was made of a bit larger and thicker pine. A heavier lid was needed in order to fit the loops for the lock without splitting the wood, but was a mistake in retrospect,
as this took the center of gravity for the box too high - it would tip over when empty and open.


{% responsive_image path: content/2020/gift-box/6.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/7.jpg alt="" %}

(above) I pained the inside with an oil-based glossy dark brown wood oil, and the outside with water-based dark brown wood pigment. The pieces are glued together
with wood glue.

{% responsive_image path: content/2020/gift-box/8.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/9.jpg alt="" %}

(above) I wanted to engrave a name into the lid of the box. First attempt of this did not look nice - the text was very small, and I used a regular drill to
engrave the wood. The drill was too big for the too-small letters. Result was sloppy-looking (if artistic), uneven edges, with some of the "freestanding" bits in letters like R (the middle outcrop) breaking off.

{% responsive_image path: content/2020/gift-box/10.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/11.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/12.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/13.jpg alt="" %}

(above) I got a better drill meant for sideways engraving from the hardware store, and used bigger letters with more straight edges (no freestanding bits) - result looked much better.
I filled the engraved letterings with white filler meant for fixing indents in wood, then let it dry and sanded the top. The result - nicely freestanding, filled out lettering.

{% responsive_image path: content/2020/gift-box/14.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/15.jpg alt="" %}

(above) I attached small brass hinges to the backside of the box.

{% responsive_image path: content/2020/gift-box/16.jpg alt="" %}

(above) Finishing touches - fully oiled and attaching front-facing loops for the lock. Sadly, I had to forgo adding a box-lid inlay piece, as this would have messed up the center of balance even further.

{% responsive_image path: content/2020/gift-box/24.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/25.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/26.jpg alt="" %}

(above) The box is complete. There are plenty of areas where I knew I could do better (paint drips, uneven sanding, balance and weight...), but as this was my very first box and the point
wasn't to get it perfect, I let it be. Regardless, the final result looks rather nice.

## Guess the code

{% responsive_image path: content/2020/gift-box/21.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/22.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/23.jpg alt="" %}

(above) The box would go under the Christmas tree locked with a combination lock.
In the box would also be a sheet with Maths tasks as well as a [formula book](https://www.rahvaraamat.ee/p/matemaatika-valemeid/29049/et?isbn=9789985025901).
In order to open the box, you'd need to solve the math.

{% responsive_image path: content/2020/gift-box/17.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/18.jpg alt="" %}
{% responsive_image path: content/2020/gift-box/27.png alt="" %}
{% responsive_image path: content/2020/gift-box/19.jpg alt="" %}

(above) I took the Maths problems from Estonian national Maths exam for high-schoolers, from last year
(see: [Math exam problems and answers for 2019 year](https://www.innove.ee/eksamid-ja-testid/riigieksamid/riigieksamite-materjalid/)).
I picked problems that were relatively easy to solve, and also tested them on friends - the goal was to offer a slightly complex challenge, but not to frustrate people.

Solving all three problems would give you the three-digit combination of the lock; and you'd be able to open the box.


## Ways to open the box

Having learned from [Girlfriend Puzzle](/2017/girlfriend-puzzle), I wanted to make it possible to open the box in multiple different ways.
Again - to avoid frustration. The point wasn't so much to solve the Maths puzzles, but to think outside the box (pun intended) and _hack it_
_(yes - I'm deviously trying to get the hacker mindset into gf)_.

These were the different ways how to get into the box:

- Solve all three Maths problems and get the combination
- There are 3 problems on the assignment sheet, each one giving X points (listed).
  Realize the numbers of points for the three tasks are actually individual numbers in the lock combination. Permute and open the lock.
- Top and footer of the assignment sheet has, in faint letters the text: "Some SECRETS are only visible by candlelight".
  Realize this means invisible ink - I wrote the combination to the paper with lemon juice. Heating the paper would yield the answer.
- Unscrew back hinges (I left hinges on the outside on purpose)
- Unscrew front lock loops (requires Torx screw head - on purpose)
- Use online tools (Wolfram Alpha) to solve the Maths problems
- Google the text of the assignments, discover it's from national exams - with answer sheet included
- Ask friends and family to help with solving Maths (distributed computing)
- Outright guess the combination (it's a significant, guessable number - a _terrible_ password)
- Physically break the box

## How it played out

The box was opened via a combination of brute-forcing and solving Maths - friends and family helped to solve most of the Maths problems, getting the answer "900".
As there were only 99 possible other combinations, they were brute-forced without solving the last Maths problem, and the box was opened.

Overall, the present-puzzle was a success, and - I think - the gift was appreciated.

Ho-ho-ho =)

